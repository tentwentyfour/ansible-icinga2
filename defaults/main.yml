---
i2_manage_repository: yes
i2_manage_package: yes
i2_manage_service: yes
i2_manage_firewall: yes

i2_package_name: icinga2
i2_package_version: ""
i2_package_ensure: present

i2_apt_key: "https://packages.icinga.com/icinga.key"
i2_apt_url: "deb http://packages.icinga.com/{{ ansible_lsb.id|lower }} icinga-{{ ansible_distribution_release }} main"
i2_yum_key: "https://packages.icinga.com/icinga.key"
i2_yum_url: "http://packages.icinga.com/epel/$releasever/release/"
i2_manage_package: yes
i2_manage_service: yes
i2_manage_epel: yes
i2_setup_ido: no
i2_keep_backups: yes

i2_confd:
  - "conf.d"
i2_include_plugins:
  - "itl"
  - "plugins"
  - "plugins-contrib"
  - "manubulon"
  - "windows-plugins"
  - "nscp"
i2_custom_constants: {}
i2_custom_features: {}
i2_custom_scripts: []

i2_custom_templates: {}
i2_custom_objects: {}
i2_custom_apply_rules: {}

i2_custom_global_templates: {}
i2_custom_global_objects: {}
i2_custom_global_apply_rules: {}
i2_custom_virtual_hosts: {}

i2_remove_unmanaged_features: no
i2_remove_unmanaged_objects: no
i2_remove_unmanaged_objects_in_zone: no
i2_custom_ignore_zone_directories: []

i2_master: no
i2_satellite: no
i2_config_master: no
i2_api_port: 5665
i2_connection_direction: 'top-down'
i2_connection_allowed: no

i2_hostname: "{{ ansible_fqdn }}"
i2_zonename: "{{ ansible_fqdn }}"
i2_default_satellite_group: satellites
i2_default_master_group: masters
i2_default_agent_group: agents

i2_ca_path: /var/lib/icinga2/ca
i2_pki_path: /var/lib/icinga2/certs
i2_certificate_signed_by_ca: no

i2_zones_dir: "{{ i2_conf_dir }}/zones.d"
i2_global_dir: "{{ i2_zones_dir }}/global-templates"

# IDO
i2_setup_ido: no
i2_ido_params:
  database: icinga
  user: icinga
  password: icinga

## Icingaweb2 settings
# Note that database user and password cannot be
# identical to the ones used for IDO or the mysql_user
# command will override that access.
i2_setup_webui: no
i2_webui_php_all: no
i2_webui_modules_dir: "/usr/share/icingaweb2/modules"
i2_default_timezone: "UTC"
i2_default_webui_modules:
  - map
  - cube
  - toplevelview
  - businessprocess
i2_webui_params:
  database: icingaweb
  user: icingaweb
  password: icingaweb
# If the Icingaweb2 will not run on the same machine as the icinga2 master,
# supply the hosts's hostname or IP here to allow access from that host
# to the MySQL-compatible database. The default is to use "localhost"
# and connect through a unix socket.
# But you could also use an ansible_fact, such as
# {{ ansible_facts.default_ipv4.address }}
i2_webui_default_connectfrom:
  - localhost


